<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script
        src="https://code.jquery.com/jquery-3.6.0.slim.js"
        integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY="
        crossorigin="anonymous">
    </script>
</head>
<body>

    
    <div class="container">
      <div class="py-5 text-center">
        <h1 >Insert New User</h1>
        <form
        class="form-floating mt-4"
        id="form"
        method="POST"
        action="/insert-user"
        enctype="application/x-www-form-urlencoded">

        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="name" name="name" placeholder="Name">
          <label for="floatingInput">Name</label>
        </div>

        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" name="email" placeholder="name@example.com">
          <label for="floatingInput">Email</label>
        </div>

        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="address" name="address" placeholder="name@example.com">
          <label for="floatingInput">address</label>
        </div>
        
          <button type="submit" class="btn btn-outline-primary mt-4" data-bs-toggle="modal" data-bs-target="#exampleModal" >Simpan Data</button>
            <a href="/users" class="btn btn-outline-danger mt-4 ">Batal</a>
            
            <!-- modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    ...
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                  </div>
                </div>
              </div>
            </div>
            
      </form>
    </div>
  </div>

  

</body>
</html>
<script>
     $("#form").on("submit", (e) => {
    e.preventDefault(); // tahan
    const email = $("#email").val(); // mendapatkan value dari input dg id email
    const name = $("#name").val(); // mendapatkan value dari input dg id name
    const regex = /\S+@\S+\.\S+/; // regex / validasi email
    if (regex.test(email) === false) {
      // pengecekan input email dg validasi
      alert("Format email salah");
    } else if (name.length < 4) {
      alert("Panjang name minimal 5");
    } else {
      e.currentTarget.submit(); // melanjutkan action
    }
  });

</script>